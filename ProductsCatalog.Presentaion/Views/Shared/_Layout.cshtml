<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"] - نظام إدارة المنتجات</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/css/bootstrap.min.css"
          integrity="sha512-usVBAd66/NpVNfBge19gws2j6JZinnca12rAe2l+d+QkLU9fiG02O1X8Q6hepIpr/EYKZvKx/I9WsnujJuOmBA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
          integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;400;600;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&display=swap" rel="stylesheet">

    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">

    <!-- Multiple Select CSS -->
    <link rel="stylesheet" href="https://unpkg.com/multiple-select@1.7.0/dist/multiple-select.min.css">

    <!-- Favicon -->
    <link href="~/Images/Shared/elogo-modified.png" rel="shortcut icon" type="image/x-icon" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/CSS/Shared/Loader.css">
    <link rel="stylesheet" href="~/CSS/Shared/snackbar.css">
    <link rel="stylesheet" href="~/CSS/Shared/Input.css">
    <link rel="stylesheet" href="~/CSS/Shared/Index.css">
    <link rel="stylesheet" href="~/CSS/Shared/XDeskModal.css">
    <link rel="stylesheet" href="~/CSS/Table/Table.css">
    <link rel="stylesheet" href="~/CSS/Shared/Sidebar.css">
    <link rel="stylesheet" href="~/css/Shared/Common.css">

    <!-- Render additional styles from sections -->
    @RenderSection("styles", required: false)
</head>
<body>
    <!-- Loader -->
    <div id="Pageloading">
        <div class="loader"></div>
    </div>

    <!-- Sidebar -->
    <div class="XDesk_sidebar">
        @await Html.PartialAsync("_Sidebar")
    </div>

    <!-- Main Content -->
    <div class="XDesk_content">
        @RenderBody()
    </div>

    <!-- jQuery (if needed for some interactions) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Popper.js (for Bootstrap 5) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.6/umd/popper.min.js"></script>

    <!-- Bootstrap 5 JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/js/bootstrap.min.js"></script>


    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

    <!-- Custom JS -->
    <script src="~/js/App.js"></script>

    <script>
        // Loader visibility handling
        $(window).on('beforeunload', function () {
            $('#Pageloading').css('visibility', 'visible');
        });

        window.addEventListener('pageshow', function (event) {
            if (event.persisted) {
                $('#Pageloading').css('visibility', 'hidden');
            }
        });

        $(document).ajaxStart(function () {
            $('#Pageloading').css('visibility', 'visible');
        }).ajaxStop(function () {
            $('#Pageloading').css('visibility', 'hidden');
        });

        // Snackbar logic
        var messageString = null;
        var notifyStatusVal = null;
        if (messageString) {
            Notify(messageString, notifyStatusVal);
        }
    </script>

    <!-- Render additional scripts from sections -->
    @RenderSection("scripts", required: false)
</body>
</html>
